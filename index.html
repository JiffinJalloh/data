
<html>
	<head>

	
	<script type="text/javascript" >
		function validationRules()
		{
			window.location.href= '/validation';
		}
		function displayOrgunit()
		{
			window.location.href= '/orgUnit';
		}
		function displayDataElement()
		{
			 window.location.href= '/dataElements'; 
		}
	</script>
    <script type="text/javascript">
			
			function sendRequestValidation()
			{
				var xhr =  new XMLHttpRequest();
				if(xhr)
				{
					xhr.open("GET","http://localhost:3000/validation",true, 'admin', 'district');
					xhr.withCredentials = true;
					xhr.setRequestHeader( "Content-type", "application/json" );	
					xhr.onreadystatechange = function()
					{
						if(xhr.readyState ==4 && xhr.status == 200)
						{
							var obj = JSON.parse(xhr.responseText);
							var responseData =  JSON.stringify(obj, undefined, 2);
							
							var container = document.getElementById("responseOutput")
							 container.innerHTML = responseData;
							 
						}
					}
					xhr.send(null);
				    
				}
			}
	///////////////////////////////////////////////////////////////////////////////////////////////
	function sendRequestOrgUnits()
			{
				var xhr =  new XMLHttpRequest();
				if(xhr)
				{
					xhr.open("GET","http://localhost:3000/orgUnit",true, 'admin', 'district');
					xhr.withCredentials = true;
					xhr.setRequestHeader( "Content-type", "application/json" );	
					xhr.onreadystatechange = function()
					{
						if(xhr.readyState ==4 && xhr.status == 200)
						{
								var obj = JSON.parse(xhr.responseText);
							var responseData =  JSON.stringify(obj, undefined, 2);
							
							var container = document.getElementById("responseOutput")
							 container.innerHTML = responseData;
							 
						}
					}
					xhr.send(null);
				    
				}
			}
	////////////////////////////////////////////////////////////////////////////////////////////////
	function sendRequestDataElements()
			{
				var xhr =  new XMLHttpRequest();
				if(xhr)
				{
					xhr.open("GET","http://localhost:3000/dataElements",true, 'admin', 'district');
					xhr.withCredentials = true;
					xhr.setRequestHeader( "Content-type", "application/json" );	
					xhr.onreadystatechange = function()
					{
						// while(xhr.readyState == 3)
						// {
							
						// 	var container = document.getElementById("responseOutput")
						// 	 container.innerHTML = 'Loading...';
							
						// }

						if(xhr.readyState ==4 && xhr.status == 200)
						{
								var obj = JSON.parse(xhr.responseText);
							var responseData =  JSON.stringify(obj, undefined, 2);
							
							var container = document.getElementById("responseOutput")
							 container.innerHTML = responseData;
							 
						}
					}
					xhr.send(null);
				    
				}
			}

	</script>

	</head>
		<body>
		<div id="main"> </div>
		 <h1>Display data </h1>
		<button type="text"  onclick="sendRequestValidation()" > Display Validation rules</button>
		<button type="text" onclick="sendRequestOrgUnits()" >Display orgUnits</button>
		<button type="text"  onclick="sendRequestDataElements()" >Display Data Elements</button><br/>

		<pre><code id="responseOutput" ></code></pre>
		</body>
</html>